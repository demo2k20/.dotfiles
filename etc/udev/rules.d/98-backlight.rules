# Adjust screen brightness according to power state
# 1st rule for when on AC
ACTION=="change", SUBSYSTEM=="power_supply", ATTR{type}=="Mains", ATTR{online}=="1", ENV{DISPLAY}=":0", ENV{XAUTHORITY}="/home/roland/.config/x11/xauthority", RUN+="/bin/sh -c 'xbacklight -set 75; polybar-msg hook brightness 1 > /dev/null || pkill -SIGRTMIN+1 i3blocks'"

# 2nd rule for when on battery
ACTION=="change", SUBSYSTEM=="power_supply", ATTR{type}=="Mains", ATTR{online}=="0", ENV{DISPLAY}=":0", ENV{XAUTHORITY}="/home/roland/.config/x11/xauthority", RUN+="/bin/sh -c 'xbacklight -set 25; polybar-msg hook brightness 1 > /dev/null || pkill -SIGRTMIN+1 i3blocks'"
