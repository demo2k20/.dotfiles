#!/bin/sh

# specify bookmarks file location
BOOKMARKS="$HOME/.local/bookmarks"

# prompt the user for a choice
CHOICE=$(sort "$BOOKMARKS" | awk -F: '{print $1}' | dmenu -i -l 30 -p 'Bookmarks')

# if the user did not choose anything, exit the script
# otherwise, get the url
if [ "$CHOICE" != "" ]; then
    URL=$(grep -i "$CHOICE" "$BOOKMARKS" | awk '{print $NF}') # get the url from the file
else
    exit
fi

# if the url exists, launch it with the default browser
# else, exit
if [ "$URL" != "" ]; then
    setsid -f $BROWSER $URL >/dev/null 2>&1
else
    exit
fi
